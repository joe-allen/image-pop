{"version":3,"sources":["js/components/imagePop.js","js/app.js","main.js"],"names":["imagePop","props","componentName","undefined","img","shadow","event","winWidth","window","innerWidth","winHeight","innerHeight","imgNaturalWidth","target","naturalWidth","imgNaturalHeight","naturalHeight","posImg","getBoundingClientRect","imgPortrait","poppedImgWidth","poppedImgHeight","classList","add","remove","document","getElementsByTagName","style","overflow","goToLeft","css","offsetWidth","offsetHeight","top","left","insertAdjacentHTML","src","dataset","title","text","head","createElement","appendChild","type","styleSheet","cssText","createTextNode","image","images","closes","shadowImages","elementArr","i","length","obj","addEventListener","pop","bind","close","shadowImage","push","_cache","getElementsByClassName","getElements","contains","App","components","init","lf_components","app"],"mappings":"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","file":"main.2ad0576a.map","sourceRoot":"../src","sourcesContent":["import '../../scss/components/imagePop.scss';\n\nclass imagePop {\n  constructor(props) {\n    if(props.componentName != undefined) {\n      this.componentName = props.componentName;\n    }\n  }\n  pop(img, shadow, event) {\n\n    // set variables\n    let winWidth = window.innerWidth;\n    let winHeight = window.innerHeight;\n    let imgNaturalWidth = event.target.naturalWidth;\n    let imgNaturalHeight = event.target.naturalHeight;\n    let posImg = event.target.getBoundingClientRect();\n    let imgPortrait = false;\n    let poppedImgWidth = (imgNaturalWidth > winWidth) ? winWidth-100 : imgNaturalWidth;\n    let poppedImgHeight = (imgNaturalHeight > winHeight) ? winHeight-500 : imgNaturalHeight;\n\n    img.classList.add('invisible');\n    shadow.classList.remove('hide');\n    document.getElementsByTagName('body')[0].style.overflow = 'hidden';\n\n    if(imgNaturalHeight > winHeight) {\n      imgPortrait = false;\n      poppedImgWidth = winHeight*.5;\n    }\n\n    // set img left corner position\n    let goToLeft = (winWidth-poppedImgWidth) / 2;\n\n    var css = `\n      .isPoppedImg {\n        position: fixed;\n        width: ${img.offsetWidth}px;\n        height: ${img.offsetHeight}px;\n        top: ${posImg.top}px;\n        left: ${posImg.left}px;\n        animation: pop;\n        animation-duration: 500ms;\n        animation-iteration-count: 1;\n        animation-fill-mode: forwards;\n        opacity: 1;\n      }\n      @keyframes pop {\n        0% {\n          position: fixed;\n          width: ${(imgPortrait) ? 'auto' : img.offsetWidth+'px'};\n          height: ${(imgPortrait) ? img.offsetHeight+'px' : 'auto'};\n          top: ${posImg.top}px;\n          left: ${posImg.left}px;\n        }\n        100% {\n          transform: scale(1.4);\n          position: fixed;\n          width: ${(imgPortrait) ? 'auto' : poppedImgWidth+'px'};\n          height: ${(imgPortrait) ? poppedImgHeight+'px' : 'auto'};\n          margin: 100px auto;\n          left: ${goToLeft}px;\n          top: 4em;\n        }\n      }\n      @media screen and (max-width: 540px) {\n        @keyframes pop {\n          0% {\n            opacity: 0;\n            position: fixed;\n            width: ${(imgPortrait) ? 'auto' : img.offsetWidth+'px'};\n            height: ${(imgPortrait) ? img.offsetHeight+'px' : 'auto'};\n            top: ${posImg.top}px;\n            left: ${posImg.left}px;\n          }\n          25% {\n            opacity: .5;\n          }\n          50% {\n            opacity: 1;\n          }\n          100% {\n            position: fixed;\n            width: ${(imgPortrait) ? 'auto' : poppedImgWidth+'px'};\n            height: ${(imgPortrait) ? poppedImgHeight+'px' : 'auto'};\n            margin: 100px auto;\n            left: ${goToLeft}px;\n            top: 4em;\n          }\n        }\n      }\n    `;\n\n    // let shadowElement = document.getElementsByClassName('imagePop_shadowElement')[0];\n    shadow.insertAdjacentHTML('beforeend', `\n\n      <div class=\"imagePop_shadowElement--container\">\n\n        <!--  show pop image -->\n        <div class=\"imagePop_shadowElement--img\">\n          <img src=\"${img.src}\" class=\"img isPoppedImg\">\n        </div>\n\n\n        <!--  show pop title / text -->\n        <div class=\"imagePop_shadowElement--text ${img.dataset.title == undefined || img.dataset.text == undefined ? 'hide' : ''}\">\n          <div class=\"imagePop_shadowElement_inner\">\n            <h3 class=\"${img.dataset.title == undefined ? 'hide' : ''}\">${img.dataset.title}</h3>\n            <p class=\"${img.dataset.text == undefined ? 'hide' : ''}\">${img.dataset.text}</p>\n          </div>\n        </div>\n      </div>\n    `);\n\n    // insert styles on <head>\n    let head = document.head || document.getElementsByTagName('head')[0];\n    let style = document.createElement('style');\n\n    head.appendChild(style);\n\n    style.type = 'text/css';\n    if (style.styleSheet){\n      // This is required for IE8 and below.\n      style.styleSheet.cssText = css;\n    } else {\n      style.appendChild(document.createTextNode(css));\n    }\n  }\n  close(image, shadow) {\n    // close imagePop\n    shadow.classList.add('hide');\n    image.classList.remove('invisible');\n    document.getElementsByTagName('body')[0].style.overflow = 'initial';\n  }\n  getElements(images, closes, shadowImages) {\n    // store elements\n    let elementArr = [];\n\n    // loop over images\n    for(let i = 0; i < closes.length; i++) {\n      let obj = {};\n      // add event listener to img\n      images[i].addEventListener('click', this.pop.bind(this, images[i], shadowImages[i]), false)\n      closes[i].addEventListener('click', this.close.bind(this, images[i], shadowImages[i]), false);\n      obj.image = images[i];\n      obj.close = closes[i];\n      obj.shadowImage = shadowImages[i];\n      elementArr.push(obj);\n    }\n\n    return elementArr;\n  }\n  init() {\n\n    this._cache = {};\n\n    // listen form close event\n    if(this.componentName != undefined) {\n      // cache images\n      let images = document.getElementsByClassName(`${this.componentName}`);\n      let closes = document.getElementsByClassName(`${this.componentName}--close`);\n      let shadowImages = document.getElementsByClassName(`${this.componentName}_shadowElement`);\n\n      this._cache = this.getElements(images, closes, shadowImages);\n\n      // listen for resize\n      // close open imgs\n      window.addEventListener('resize', () => {\n        // loop over images\n        for(let i = 0; i < closes.length; i++) {\n          // add 'hide' if window resized\n          if(!shadowImages[i].classList.contains('hide')) {\n            shadowImages[i].classList.add('hide');\n            images[i].classList.remove('invisible');\n            document.getElementsByTagName('body')[0].style.overflow = 'initial';\n          }\n        }\n      });\n    }\n  }\n}\n\nexport default imagePop;","import imagePop from './components/imagePop';\n\nclass App {\n  constructor(components) {\n    this.imagePop = components.imagePop;\n  }\n  init() {\n\n    let props = {};\n\n    // wait for DOM to load\n    window.addEventListener('DOMContentLoaded', () => {\n      if(this.imagePop) {\n        // TODO: find way to make componentName dynamic\n        props.componentName = 'imagePop'\n        let pop = new imagePop(props);\n        pop.init();\n      }\n    });\n\n  }\n}\n\nexport default App;","import App from './js/app';\n\nif(typeof(lf_components) !== \"undefined\") {\n  let app = new App(lf_components);\n  app.init()\n}"]}